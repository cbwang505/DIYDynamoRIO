<!-- HTML header for doxygen 1.8.16-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<link rel="shortcut icon" type="image/x-icon" href="favicon.ico"/>
<title>DynamoRIO API: /cygdrive/e/svn/PowerResearch/dynamorio-master-x86/ext/drcontainers/hashtable.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">DynamoRIO API
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('hashtable_8h.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">hashtable.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Header for DynamoRIO Hashtable Extension.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct__hashtable__config__t.html">_hashtable_config_t</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a9caff1942d844cffe52c953d448c2e6c"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="struct__hashtable__config__t.html">_hashtable_config_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hashtable_8h.html#a9caff1942d844cffe52c953d448c2e6c">hashtable_config_t</a></td></tr>
<tr class="separator:a9caff1942d844cffe52c953d448c2e6c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a2cde78f27c3374749c462a5d58a5e38e"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hashtable_8h.html#a2cde78f27c3374749c462a5d58a5e38e">hash_type_t</a> { <br />
&#160;&#160;<a class="el" href="hashtable_8h.html#a2cde78f27c3374749c462a5d58a5e38ea7e83c8ad190fd19419c301ace3bcbe2e">HASH_INTPTR</a>, 
<br />
&#160;&#160;<a class="el" href="hashtable_8h.html#a2cde78f27c3374749c462a5d58a5e38ea3a57810af6552f1efcda7a6abddbe92a">HASH_STRING</a>, 
<br />
&#160;&#160;<a class="el" href="hashtable_8h.html#a2cde78f27c3374749c462a5d58a5e38eae0b0e4c68e2bab129d1d2a6ff43d44d4">HASH_STRING_NOCASE</a>, 
<br />
&#160;&#160;<a class="el" href="hashtable_8h.html#a2cde78f27c3374749c462a5d58a5e38eaa90b8cffea02e8d64d001982ddb0c310">HASH_CUSTOM</a>
<br />
 }</td></tr>
<tr class="separator:a2cde78f27c3374749c462a5d58a5e38e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4d7584cf61da0c9d25d40a2cbdbb4f5"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hashtable_8h.html#ae4d7584cf61da0c9d25d40a2cbdbb4f5">hasthable_persist_flags_t</a> { <br />
&#160;&#160;<a class="el" href="hashtable_8h.html#ae4d7584cf61da0c9d25d40a2cbdbb4f5ad21f75ecfeda6b17850ce1f37cbfbfe3">DR_HASHPERS_PAYLOAD_IS_POINTER</a> = 0x0001, 
<br />
&#160;&#160;<a class="el" href="hashtable_8h.html#ae4d7584cf61da0c9d25d40a2cbdbb4f5a281f8669fb41cf530d3e9b5bcefeee1a">DR_HASHPERS_CLONE_PAYLOAD</a> = 0x0002, 
<br />
&#160;&#160;<a class="el" href="hashtable_8h.html#ae4d7584cf61da0c9d25d40a2cbdbb4f5a01b2e63a35d528e3aa0d1d7b94acc82d">DR_HASHPERS_REBASE_KEY</a> = 0x0004, 
<br />
&#160;&#160;<a class="el" href="hashtable_8h.html#ae4d7584cf61da0c9d25d40a2cbdbb4f5acbb5b7692eb0abd2630636398a7c68b7">DR_HASHPERS_ONLY_IN_RANGE</a> = 0x0008, 
<br />
&#160;&#160;<a class="el" href="hashtable_8h.html#ae4d7584cf61da0c9d25d40a2cbdbb4f5aaf682665078c712befd63824f03dbd7c">DR_HASHPERS_ONLY_PERSISTED</a> = 0x0010
<br />
 }</td></tr>
<tr class="separator:ae4d7584cf61da0c9d25d40a2cbdbb4f5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ab341e9839c6cbd89a5a442df73468f5f"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hashtable_8h.html#ab341e9839c6cbd89a5a442df73468f5f">stri_eq</a> (const char *s1, const char *s2)</td></tr>
<tr class="separator:ab341e9839c6cbd89a5a442df73468f5f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af202d20209b04c9ea9fd0657f3cfccc6"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hashtable_8h.html#af202d20209b04c9ea9fd0657f3cfccc6">hashtable_global_config</a> (void *(*alloc_func)(size_t), void(*free_func)(void *, size_t), void(*assert_fail_func)(const char *))</td></tr>
<tr class="separator:af202d20209b04c9ea9fd0657f3cfccc6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96d69f3a60f5ba9c75698649465be695"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hashtable_8h.html#a96d69f3a60f5ba9c75698649465be695">hashtable_init</a> (hashtable_t *table, uint num_bits, <a class="el" href="hashtable_8h.html#a2cde78f27c3374749c462a5d58a5e38e">hash_type_t</a> hashtype, bool str_dup)</td></tr>
<tr class="separator:a96d69f3a60f5ba9c75698649465be695"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a307d17165381371418414308b3eed803"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hashtable_8h.html#a307d17165381371418414308b3eed803">hashtable_init_ex</a> (hashtable_t *table, uint num_bits, <a class="el" href="hashtable_8h.html#a2cde78f27c3374749c462a5d58a5e38e">hash_type_t</a> hashtype, bool str_dup, bool synch, void(*free_payload_func)(void *), uint(*hash_key_func)(void *), bool(*cmp_key_func)(void *, void *))</td></tr>
<tr class="separator:a307d17165381371418414308b3eed803"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2e9225a8b532a579db4f193b2a236686"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hashtable_8h.html#a2e9225a8b532a579db4f193b2a236686">hashtable_configure</a> (hashtable_t *table, <a class="el" href="hashtable_8h.html#a9caff1942d844cffe52c953d448c2e6c">hashtable_config_t</a> *config)</td></tr>
<tr class="separator:a2e9225a8b532a579db4f193b2a236686"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6af018f2bb18648861e76bc0fdec96e"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hashtable_8h.html#aa6af018f2bb18648861e76bc0fdec96e">hashtable_lookup</a> (hashtable_t *table, void *key)</td></tr>
<tr class="separator:aa6af018f2bb18648861e76bc0fdec96e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a42cb0b8a85c6b4cdba6ee7b984aeff25"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hashtable_8h.html#a42cb0b8a85c6b4cdba6ee7b984aeff25">hashtable_add</a> (hashtable_t *table, void *key, void *payload)</td></tr>
<tr class="separator:a42cb0b8a85c6b4cdba6ee7b984aeff25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3d443ee70d3fd35d853b9697f999cbf7"><td class="memItemLeft" align="right" valign="top">void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hashtable_8h.html#a3d443ee70d3fd35d853b9697f999cbf7">hashtable_add_replace</a> (hashtable_t *table, void *key, void *payload)</td></tr>
<tr class="separator:a3d443ee70d3fd35d853b9697f999cbf7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8972b42e34447e229489ab120271dbfd"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hashtable_8h.html#a8972b42e34447e229489ab120271dbfd">hashtable_remove</a> (hashtable_t *table, void *key)</td></tr>
<tr class="separator:a8972b42e34447e229489ab120271dbfd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a9699afdfaab140f2e98b7783a51b19"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hashtable_8h.html#a4a9699afdfaab140f2e98b7783a51b19">hashtable_remove_range</a> (hashtable_t *table, void *start, void *end)</td></tr>
<tr class="separator:a4a9699afdfaab140f2e98b7783a51b19"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a01abdf4a47a2603aca94ab3f5be14c98"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hashtable_8h.html#a01abdf4a47a2603aca94ab3f5be14c98">hashtable_apply_to_all_payloads</a> (hashtable_t *table, void(*apply_func)(void *payload))</td></tr>
<tr class="separator:a01abdf4a47a2603aca94ab3f5be14c98"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82d3119a99127a7d18441bbecc868699"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hashtable_8h.html#a82d3119a99127a7d18441bbecc868699">hashtable_apply_to_all_payloads_user_data</a> (hashtable_t *table, void(*apply_func)(void *payload, void *user_data), void *user_data)</td></tr>
<tr class="separator:a82d3119a99127a7d18441bbecc868699"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2bcb10d265f6005bbcef89129ad58548"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hashtable_8h.html#a2bcb10d265f6005bbcef89129ad58548">hashtable_clear</a> (hashtable_t *table)</td></tr>
<tr class="separator:a2bcb10d265f6005bbcef89129ad58548"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9e402d49c64df6809c82483a8ddd6770"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hashtable_8h.html#a9e402d49c64df6809c82483a8ddd6770">hashtable_delete</a> (hashtable_t *table)</td></tr>
<tr class="separator:a9e402d49c64df6809c82483a8ddd6770"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a98ba198cad4e146607e8a07db005b514"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hashtable_8h.html#a98ba198cad4e146607e8a07db005b514">hashtable_lock</a> (hashtable_t *table)</td></tr>
<tr class="separator:a98ba198cad4e146607e8a07db005b514"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8d7f9e88180c79d080113e2bec858dbf"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hashtable_8h.html#a8d7f9e88180c79d080113e2bec858dbf">hashtable_unlock</a> (hashtable_t *table)</td></tr>
<tr class="separator:a8d7f9e88180c79d080113e2bec858dbf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac15c2ca65b95597ff2311f1040f1be53"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hashtable_8h.html#ac15c2ca65b95597ff2311f1040f1be53">hashtable_lock_self_owns</a> (hashtable_t *table)</td></tr>
<tr class="separator:ac15c2ca65b95597ff2311f1040f1be53"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3d52ff455ac9bab9ef5ffe49586e904"><td class="memItemLeft" align="right" valign="top">size_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hashtable_8h.html#ab3d52ff455ac9bab9ef5ffe49586e904">hashtable_persist_size</a> (void *drcontext, hashtable_t *table, size_t entry_size, void *perscxt, <a class="el" href="hashtable_8h.html#ae4d7584cf61da0c9d25d40a2cbdbb4f5">hasthable_persist_flags_t</a> flags)</td></tr>
<tr class="separator:ab3d52ff455ac9bab9ef5ffe49586e904"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a012f1fb1127c60d90bd76d662c3dbf4a"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hashtable_8h.html#a012f1fb1127c60d90bd76d662c3dbf4a">hashtable_persist</a> (void *drcontext, hashtable_t *table, size_t entry_size, file_t fd, void *perscxt, <a class="el" href="hashtable_8h.html#ae4d7584cf61da0c9d25d40a2cbdbb4f5">hasthable_persist_flags_t</a> flags)</td></tr>
<tr class="separator:a012f1fb1127c60d90bd76d662c3dbf4a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5857998e61b2477997fad25adf71580b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="hashtable_8h.html#a5857998e61b2477997fad25adf71580b">hashtable_resurrect</a> (void *drcontext, byte **map, hashtable_t *table, size_t entry_size, void *perscxt, <a class="el" href="hashtable_8h.html#ae4d7584cf61da0c9d25d40a2cbdbb4f5">hasthable_persist_flags_t</a> flags, bool(*process_payload)(void *key, void *payload, ptr_int_t shift))</td></tr>
<tr class="separator:a5857998e61b2477997fad25adf71580b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Header for DynamoRIO Hashtable Extension. </p>
</div><h2 class="groupheader">Typedef Documentation</h2>
<a id="a9caff1942d844cffe52c953d448c2e6c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9caff1942d844cffe52c953d448c2e6c">&#9670;&nbsp;</a></span>hashtable_config_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct__hashtable__config__t.html">_hashtable_config_t</a>  <a class="el" href="hashtable_8h.html#a9caff1942d844cffe52c953d448c2e6c">hashtable_config_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Configuration parameters for a hashtable. </p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a2cde78f27c3374749c462a5d58a5e38e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2cde78f27c3374749c462a5d58a5e38e">&#9670;&nbsp;</a></span>hash_type_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="hashtable_8h.html#a2cde78f27c3374749c462a5d58a5e38e">hash_type_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The type of hash key </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a2cde78f27c3374749c462a5d58a5e38ea7e83c8ad190fd19419c301ace3bcbe2e"></a>HASH_INTPTR&#160;</td><td class="fielddoc"><p>A pointer-sized integer or pointer </p>
</td></tr>
<tr><td class="fieldname"><a id="a2cde78f27c3374749c462a5d58a5e38ea3a57810af6552f1efcda7a6abddbe92a"></a>HASH_STRING&#160;</td><td class="fielddoc"><p>A case-sensitive string </p>
</td></tr>
<tr><td class="fieldname"><a id="a2cde78f27c3374749c462a5d58a5e38eae0b0e4c68e2bab129d1d2a6ff43d44d4"></a>HASH_STRING_NOCASE&#160;</td><td class="fielddoc"><p>A case-insensitive string </p>
</td></tr>
<tr><td class="fieldname"><a id="a2cde78f27c3374749c462a5d58a5e38eaa90b8cffea02e8d64d001982ddb0c310"></a>HASH_CUSTOM&#160;</td><td class="fielddoc"><p>A custom key. Hash and compare operations must be provided in <a class="el" href="hashtable_8h.html#a307d17165381371418414308b3eed803">hashtable_init_ex()</a>. The hash operation can return a full uint, as its result will be truncated via a mod of the hash key bit size. This allows for resizing the table without changing the hash operation. </p>
</td></tr>
</table>

</div>
</div>
<a id="ae4d7584cf61da0c9d25d40a2cbdbb4f5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae4d7584cf61da0c9d25d40a2cbdbb4f5">&#9670;&nbsp;</a></span>hasthable_persist_flags_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="hashtable_8h.html#ae4d7584cf61da0c9d25d40a2cbdbb4f5">hasthable_persist_flags_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Flags to control hashtable persistence </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="ae4d7584cf61da0c9d25d40a2cbdbb4f5ad21f75ecfeda6b17850ce1f37cbfbfe3"></a>DR_HASHPERS_PAYLOAD_IS_POINTER&#160;</td><td class="fielddoc"><p>Valid for <a class="el" href="hashtable_8h.html#a012f1fb1127c60d90bd76d662c3dbf4a">hashtable_persist()</a> and <a class="el" href="hashtable_8h.html#a5857998e61b2477997fad25adf71580b">hashtable_resurrect()</a> and the same value must be passed to both. Treats payloads as pointers to allocated memory. By default payloads are treated as inlined values if this flag is not set. </p>
</td></tr>
<tr><td class="fieldname"><a id="ae4d7584cf61da0c9d25d40a2cbdbb4f5a281f8669fb41cf530d3e9b5bcefeee1a"></a>DR_HASHPERS_CLONE_PAYLOAD&#160;</td><td class="fielddoc"><p>Valid for <a class="el" href="hashtable_8h.html#a5857998e61b2477997fad25adf71580b">hashtable_resurrect()</a>. Only applies if DR_HASHPERS_KEY_IS_POINTER. Performs a shallow clone of the payload upon resurrection. If this flag is not set, the payloads will remain pointing into the mapped file. </p>
</td></tr>
<tr><td class="fieldname"><a id="ae4d7584cf61da0c9d25d40a2cbdbb4f5a01b2e63a35d528e3aa0d1d7b94acc82d"></a>DR_HASHPERS_REBASE_KEY&#160;</td><td class="fielddoc"><p>Valid for <a class="el" href="hashtable_8h.html#ab3d52ff455ac9bab9ef5ffe49586e904">hashtable_persist_size()</a>, <a class="el" href="hashtable_8h.html#a012f1fb1127c60d90bd76d662c3dbf4a">hashtable_persist()</a>, and <a class="el" href="hashtable_8h.html#a5857998e61b2477997fad25adf71580b">hashtable_resurrect()</a>, and the same value must be passed to all. Only applies if keys are of type HASH_INTPTR. Adjusts each key by the difference in the persist-time start address of the persisted code region and the resurrected start address. The value of this flag must match across all three calls <a class="el" href="hashtable_8h.html#ab3d52ff455ac9bab9ef5ffe49586e904">hashtable_persist_size()</a>, <a class="el" href="hashtable_8h.html#a012f1fb1127c60d90bd76d662c3dbf4a">hashtable_persist()</a>, and <a class="el" href="hashtable_8h.html#a5857998e61b2477997fad25adf71580b">hashtable_resurrect()</a>. </p>
</td></tr>
<tr><td class="fieldname"><a id="ae4d7584cf61da0c9d25d40a2cbdbb4f5acbb5b7692eb0abd2630636398a7c68b7"></a>DR_HASHPERS_ONLY_IN_RANGE&#160;</td><td class="fielddoc"><p>Valid for <a class="el" href="hashtable_8h.html#ab3d52ff455ac9bab9ef5ffe49586e904">hashtable_persist_size()</a> and <a class="el" href="hashtable_8h.html#a012f1fb1127c60d90bd76d662c3dbf4a">hashtable_persist()</a> and the same value must be passed to both. Only applies if keys are of type HASH_INTPTR. Only persists entries whose key is in the address range being persisted. </p>
</td></tr>
<tr><td class="fieldname"><a id="ae4d7584cf61da0c9d25d40a2cbdbb4f5aaf682665078c712befd63824f03dbd7c"></a>DR_HASHPERS_ONLY_PERSISTED&#160;</td><td class="fielddoc"><p>Valid for <a class="el" href="hashtable_8h.html#ab3d52ff455ac9bab9ef5ffe49586e904">hashtable_persist_size()</a> and <a class="el" href="hashtable_8h.html#a012f1fb1127c60d90bd76d662c3dbf4a">hashtable_persist()</a> and the same value must be passed to both. Only applies if keys are of type HASH_INTPTR. Only persists entries for which <a class="el" href="dr__events_8h.html#ac8f13d88a973780babf7fd223ffe8cb6">dr_fragment_persistable()</a> returns true. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a42cb0b8a85c6b4cdba6ee7b984aeff25"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a42cb0b8a85c6b4cdba6ee7b984aeff25">&#9670;&nbsp;</a></span>hashtable_add()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool hashtable_add </td>
          <td>(</td>
          <td class="paramtype">hashtable_t *&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>payload</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Adds a new entry. Returns false if an entry for <code>key</code> already exists. </p><dl class="section note"><dt>Note</dt><dd>Never use NULL as a payload as that is used for a lookup failure. </dd></dl>

</div>
</div>
<a id="a3d443ee70d3fd35d853b9697f999cbf7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3d443ee70d3fd35d853b9697f999cbf7">&#9670;&nbsp;</a></span>hashtable_add_replace()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* hashtable_add_replace </td>
          <td>(</td>
          <td class="paramtype">hashtable_t *&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>key</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>payload</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Adds a new entry, replacing an existing entry if any. Returns the old payload, or NULL if there was no existing entry. </p><dl class="section note"><dt>Note</dt><dd>Never use NULL as a payload as that is used for a lookup failure. </dd></dl>

</div>
</div>
<a id="a01abdf4a47a2603aca94ab3f5be14c98"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a01abdf4a47a2603aca94ab3f5be14c98">&#9670;&nbsp;</a></span>hashtable_apply_to_all_payloads()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void hashtable_apply_to_all_payloads </td>
          <td>(</td>
          <td class="paramtype">hashtable_t *&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(void *payload)&#160;</td>
          <td class="paramname"><em>apply_func</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Calls the <code>apply_func</code> for each payload. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">table</td><td>The hashtable to apply the function. </td></tr>
    <tr><td class="paramname">apply_func</td><td>A pointer to a function that is called for all payloads stored in the map. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a82d3119a99127a7d18441bbecc868699"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a82d3119a99127a7d18441bbecc868699">&#9670;&nbsp;</a></span>hashtable_apply_to_all_payloads_user_data()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void hashtable_apply_to_all_payloads_user_data </td>
          <td>(</td>
          <td class="paramtype">hashtable_t *&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(void *payload, void *user_data)&#160;</td>
          <td class="paramname"><em>apply_func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>user_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Calls the <code>apply_func</code> for each payload with user data. Similar to <a class="el" href="hashtable_8h.html#a01abdf4a47a2603aca94ab3f5be14c98">hashtable_apply_to_all_payloads()</a>. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">table</td><td>The hashtable to apply the function. </td></tr>
    <tr><td class="paramname">apply_func</td><td>A pointer to a function that is called for all payloads stored in the map. It also takes user data as a parameter. </td></tr>
    <tr><td class="paramname">user_data</td><td>User data that is available when iterating through payloads. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a2bcb10d265f6005bbcef89129ad58548"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2bcb10d265f6005bbcef89129ad58548">&#9670;&nbsp;</a></span>hashtable_clear()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void hashtable_clear </td>
          <td>(</td>
          <td class="paramtype">hashtable_t *&#160;</td>
          <td class="paramname"><em>table</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Removes all entries from the table. If free_payload_func was specified calls it for each payload. </p>

</div>
</div>
<a id="a2e9225a8b532a579db4f193b2a236686"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2e9225a8b532a579db4f193b2a236686">&#9670;&nbsp;</a></span>hashtable_configure()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void hashtable_configure </td>
          <td>(</td>
          <td class="paramtype">hashtable_t *&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="hashtable_8h.html#a9caff1942d844cffe52c953d448c2e6c">hashtable_config_t</a> *&#160;</td>
          <td class="paramname"><em>config</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Configures optional parameters of hashtable operation. </p>

</div>
</div>
<a id="a9e402d49c64df6809c82483a8ddd6770"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9e402d49c64df6809c82483a8ddd6770">&#9670;&nbsp;</a></span>hashtable_delete()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void hashtable_delete </td>
          <td>(</td>
          <td class="paramtype">hashtable_t *&#160;</td>
          <td class="paramname"><em>table</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Destroys all storage for the table, including all entries and the table itself. If free_payload_func was specified calls it for each payload. </p>

</div>
</div>
<a id="af202d20209b04c9ea9fd0657f3cfccc6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af202d20209b04c9ea9fd0657f3cfccc6">&#9670;&nbsp;</a></span>hashtable_global_config()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void hashtable_global_config </td>
          <td>(</td>
          <td class="paramtype">void *(*)(size_t)&#160;</td>
          <td class="paramname"><em>alloc_func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(void *, size_t)&#160;</td>
          <td class="paramname"><em>free_func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(const char *)&#160;</td>
          <td class="paramname"><em>assert_fail_func</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The hashtable has parametrized heap and assert routines for flexibility. This routine must be called BEFORE any other hashtable_ routine; else, the defaults will be used. </p>

</div>
</div>
<a id="a96d69f3a60f5ba9c75698649465be695"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a96d69f3a60f5ba9c75698649465be695">&#9670;&nbsp;</a></span>hashtable_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void hashtable_init </td>
          <td>(</td>
          <td class="paramtype">hashtable_t *&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint&#160;</td>
          <td class="paramname"><em>num_bits</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="hashtable_8h.html#a2cde78f27c3374749c462a5d58a5e38e">hash_type_t</a>&#160;</td>
          <td class="paramname"><em>hashtype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>str_dup</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initializes a hashtable with the given size, hash type, and whether to duplicate string keys. All operations are synchronized by default. </p>

</div>
</div>
<a id="a307d17165381371418414308b3eed803"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a307d17165381371418414308b3eed803">&#9670;&nbsp;</a></span>hashtable_init_ex()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void hashtable_init_ex </td>
          <td>(</td>
          <td class="paramtype">hashtable_t *&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint&#160;</td>
          <td class="paramname"><em>num_bits</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="hashtable_8h.html#a2cde78f27c3374749c462a5d58a5e38e">hash_type_t</a>&#160;</td>
          <td class="paramname"><em>hashtype</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>str_dup</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>synch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(void *)&#160;</td>
          <td class="paramname"><em>free_payload_func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint(*)(void *)&#160;</td>
          <td class="paramname"><em>hash_key_func</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool(*)(void *, void *)&#160;</td>
          <td class="paramname"><em>cmp_key_func</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Initializes a hashtable with the given parameters.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">table</td><td>The hashtable to be initialized. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">num_bits</td><td>The initial number of bits to use for the hash key which determines the initial size of the table itself. The result of the hash function will be truncated to this size. This size will be increased when the table is resized (resizing always doubles the size). </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">hashtype</td><td>The type of hash to perform. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">str_dup</td><td>Whether to duplicate string keys. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">synch</td><td>Whether to synchronize each operation. Even when <code>synch</code> is false, the hashtable's lock is initialized and can be used via <a class="el" href="hashtable_8h.html#a98ba198cad4e146607e8a07db005b514">hashtable_lock()</a> and <a class="el" href="hashtable_8h.html#a8d7f9e88180c79d080113e2bec858dbf">hashtable_unlock()</a>, allowing the caller to extend synchronization beyond just the operation in question, to include accessing a looked-up payload, e.g. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">free_payload_func</td><td>A callback for freeing each payload. Leave it NULL if no callback is needed. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">hash_key_func</td><td>A callback for hashing a key. Leave it NULL if no callback is needed and the default is to be used. For HASH_CUSTOM, a callback must be provided. The hash operation can return a full uint, as its result will be truncated via a mod of the hash key bit size. This allows for resizing the table without changing the hash operation. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">cmp_key_func</td><td>A callback for comparing two keys. Leave it NULL if no callback is needed and the default is to be used. For HASH_CUSTOM, a callback must be provided. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a98ba198cad4e146607e8a07db005b514"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a98ba198cad4e146607e8a07db005b514">&#9670;&nbsp;</a></span>hashtable_lock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void hashtable_lock </td>
          <td>(</td>
          <td class="paramtype">hashtable_t *&#160;</td>
          <td class="paramname"><em>table</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Acquires the hashtable lock. </p>

</div>
</div>
<a id="ac15c2ca65b95597ff2311f1040f1be53"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac15c2ca65b95597ff2311f1040f1be53">&#9670;&nbsp;</a></span>hashtable_lock_self_owns()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool hashtable_lock_self_owns </td>
          <td>(</td>
          <td class="paramtype">hashtable_t *&#160;</td>
          <td class="paramname"><em>table</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns true iff the hashtable lock is owned by the calling thread. This routine is only available in debug builds. In release builds it always returns true. </p>

</div>
</div>
<a id="aa6af018f2bb18648861e76bc0fdec96e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa6af018f2bb18648861e76bc0fdec96e">&#9670;&nbsp;</a></span>hashtable_lookup()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* hashtable_lookup </td>
          <td>(</td>
          <td class="paramtype">hashtable_t *&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>key</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the payload for the given key, or NULL if the key is not found </p>

</div>
</div>
<a id="a012f1fb1127c60d90bd76d662c3dbf4a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a012f1fb1127c60d90bd76d662c3dbf4a">&#9670;&nbsp;</a></span>hashtable_persist()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool hashtable_persist </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>drcontext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">hashtable_t *&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>entry_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">file_t&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>perscxt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="hashtable_8h.html#ae4d7584cf61da0c9d25d40a2cbdbb4f5">hasthable_persist_flags_t</a>&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>For use persisting a table of single-alloc entries (i.e., via a shallow copy) for loading into a live table later.</p>
<p>These routines assume that the caller is synchronizing across the call to <a class="el" href="hashtable_8h.html#ab3d52ff455ac9bab9ef5ffe49586e904">hashtable_persist_size()</a> and <a class="el" href="hashtable_8h.html#a012f1fb1127c60d90bd76d662c3dbf4a">hashtable_persist()</a>. If these are called using DR's persistence interface, DR guarantees synchronization.</p>
<p><a class="el" href="hashtable_8h.html#ab3d52ff455ac9bab9ef5ffe49586e904">hashtable_persist_size()</a> must be called immediately prior to calling <a class="el" href="hashtable_8h.html#a012f1fb1127c60d90bd76d662c3dbf4a">hashtable_persist()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">drcontext</td><td>The opaque DR context </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">table</td><td>The table to persist </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">entry_size</td><td>The size of each table entry payload </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">fd</td><td>The target persisted file handle </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">perscxt</td><td>The opaque persistence context from DR's persist events </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">flags</td><td>Controls various aspects of the persistence </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ab3d52ff455ac9bab9ef5ffe49586e904"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab3d52ff455ac9bab9ef5ffe49586e904">&#9670;&nbsp;</a></span>hashtable_persist_size()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">size_t hashtable_persist_size </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>drcontext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">hashtable_t *&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>entry_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>perscxt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="hashtable_8h.html#ae4d7584cf61da0c9d25d40a2cbdbb4f5">hasthable_persist_flags_t</a>&#160;</td>
          <td class="paramname"><em>flags</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>For use persisting a table of single-alloc entries (i.e., via a shallow copy) for loading into a live table later.</p>
<p>These routines assume that the caller is synchronizing across the call to <a class="el" href="hashtable_8h.html#ab3d52ff455ac9bab9ef5ffe49586e904">hashtable_persist_size()</a> and <a class="el" href="hashtable_8h.html#a012f1fb1127c60d90bd76d662c3dbf4a">hashtable_persist()</a>. If these are called using DR's persistence interface, DR guarantees synchronization.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">drcontext</td><td>The opaque DR context </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">table</td><td>The table to persist </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">entry_size</td><td>The size of each table entry payload </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">perscxt</td><td>The opaque persistence context from DR's persist events </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">flags</td><td>Controls various aspects of the persistence </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a8972b42e34447e229489ab120271dbfd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8972b42e34447e229489ab120271dbfd">&#9670;&nbsp;</a></span>hashtable_remove()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool hashtable_remove </td>
          <td>(</td>
          <td class="paramtype">hashtable_t *&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>key</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Removes the entry for key. If free_payload_func was specified calls it for the payload being removed. Returns false if no such entry exists. </p>

</div>
</div>
<a id="a4a9699afdfaab140f2e98b7783a51b19"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a9699afdfaab140f2e98b7783a51b19">&#9670;&nbsp;</a></span>hashtable_remove_range()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool hashtable_remove_range </td>
          <td>(</td>
          <td class="paramtype">hashtable_t *&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>start</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>end</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Removes all entries with key in [start..end). If free_payload_func was specified calls it for each payload being removed. Returns false if no such entry exists. </p>

</div>
</div>
<a id="a5857998e61b2477997fad25adf71580b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5857998e61b2477997fad25adf71580b">&#9670;&nbsp;</a></span>hashtable_resurrect()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool hashtable_resurrect </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>drcontext</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte **&#160;</td>
          <td class="paramname"><em>map</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">hashtable_t *&#160;</td>
          <td class="paramname"><em>table</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>entry_size</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>perscxt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="hashtable_8h.html#ae4d7584cf61da0c9d25d40a2cbdbb4f5">hasthable_persist_flags_t</a>&#160;</td>
          <td class="paramname"><em>flags</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool(*)(void *key, void *payload, ptr_int_t shift)&#160;</td>
          <td class="paramname"><em>process_payload</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>For use persisting a table of single-alloc entries (i.e., via a shallow copy) for loading into a live table later.</p>
<p>Reads in entries from disk and adds them to the live table.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">drcontext</td><td>The opaque DR context </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">map</td><td>The mapped-in persisted file, pointing at the data written by <a class="el" href="hashtable_8h.html#a012f1fb1127c60d90bd76d662c3dbf4a">hashtable_persist()</a> </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">table</td><td>The live table to add to </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">entry_size</td><td>The size of each table entry payload </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">perscxt</td><td>The opaque persistence context from DR's persist events </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">flags</td><td>Controls various aspects of the persistence </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">process_payload</td><td>If non-NULL, calls process_payload instead of hashtable_add. process_payload can then adjust the paylod and if it wishes invoke hashtable_add. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a8d7f9e88180c79d080113e2bec858dbf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8d7f9e88180c79d080113e2bec858dbf">&#9670;&nbsp;</a></span>hashtable_unlock()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void hashtable_unlock </td>
          <td>(</td>
          <td class="paramtype">hashtable_t *&#160;</td>
          <td class="paramname"><em>table</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Releases the hashtable lock. </p>

</div>
</div>
<a id="ab341e9839c6cbd89a5a442df73468f5f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab341e9839c6cbd89a5a442df73468f5f">&#9670;&nbsp;</a></span>stri_eq()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool stri_eq </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>s1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>s2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Caseless string compare </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.16-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_31cedd4509e06940f559c1ca2f722e02.html">ext</a></li><li class="navelem"><a class="el" href="dir_ed37d28f80de94e1d6f2514bd95208de.html">drcontainers</a></li><li class="navelem"><a class="el" href="hashtable_8h.html">hashtable.h</a></li>
    <li class="footer" style="float:none;text-align:center"><img border=0 src="favicon.png"> &nbsp;  DynamoRIO API version 8.0.0 --- Fri May 22 2020 13:36:00 &nbsp; <img border=0 src="favicon.png">
</small></address>
<!--END !GENERATE_TREEVIEW-->
</body>
</html>
