<!-- HTML header for doxygen 1.8.16-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<link rel="shortcut icon" type="image/x-icon" href="favicon.ico"/>
<title>DynamoRIO API: analysis_tool_t Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">DynamoRIO API
   </div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('classanalysis__tool__t.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a>  </div>
  <div class="headertitle">
<div class="title">analysis_tool_t Class Reference<span class="mlabels"><span class="mlabel">abstract</span></span></div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;analysis_tool.h&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a893273210e42f5b14a9c1ff2e09ffa61"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classanalysis__tool__t.html#a893273210e42f5b14a9c1ff2e09ffa61">analysis_tool_t</a> ()</td></tr>
<tr class="separator:a893273210e42f5b14a9c1ff2e09ffa61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af926d04a522915a32a9186297564eec2"><td class="memItemLeft" align="right" valign="top">virtual std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classanalysis__tool__t.html#af926d04a522915a32a9186297564eec2">initialize</a> ()</td></tr>
<tr class="separator:af926d04a522915a32a9186297564eec2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a168e74445e03da89269dc38728f76554"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classanalysis__tool__t.html#a168e74445e03da89269dc38728f76554">operator!</a> ()</td></tr>
<tr class="separator:a168e74445e03da89269dc38728f76554"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac6e82d526535564e180e684a90354ac0"><td class="memItemLeft" align="right" valign="top">virtual std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classanalysis__tool__t.html#ac6e82d526535564e180e684a90354ac0">get_error_string</a> ()</td></tr>
<tr class="separator:ac6e82d526535564e180e684a90354ac0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d835ef8d70add61b328bc2de27e8bed"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classanalysis__tool__t.html#a2d835ef8d70add61b328bc2de27e8bed">process_memref</a> (const <a class="el" href="memref_8h.html#adf34086351ea99fd7164ac601aa70a52">memref_t</a> &amp;memref)=0</td></tr>
<tr class="separator:a2d835ef8d70add61b328bc2de27e8bed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a511609e3d33afdff21ab66ba5f48c078"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classanalysis__tool__t.html#a511609e3d33afdff21ab66ba5f48c078">print_results</a> ()=0</td></tr>
<tr class="separator:a511609e3d33afdff21ab66ba5f48c078"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a74b15edc4429db7bdedb57f6047871ae"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classanalysis__tool__t.html#a74b15edc4429db7bdedb57f6047871ae">parallel_shard_supported</a> ()</td></tr>
<tr class="separator:a74b15edc4429db7bdedb57f6047871ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abed057bdb0e3fd2139b7b686719ea94c"><td class="memItemLeft" align="right" valign="top">virtual void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classanalysis__tool__t.html#abed057bdb0e3fd2139b7b686719ea94c">parallel_worker_init</a> (int worker_index)</td></tr>
<tr class="separator:abed057bdb0e3fd2139b7b686719ea94c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a66101e8025e47d91c43db80c875c1588"><td class="memItemLeft" align="right" valign="top">virtual std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classanalysis__tool__t.html#a66101e8025e47d91c43db80c875c1588">parallel_worker_exit</a> (void *worker_data)</td></tr>
<tr class="separator:a66101e8025e47d91c43db80c875c1588"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2933c3b653540c949de39c4ba6840854"><td class="memItemLeft" align="right" valign="top">virtual void *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classanalysis__tool__t.html#a2933c3b653540c949de39c4ba6840854">parallel_shard_init</a> (int shard_index, void *worker_data)</td></tr>
<tr class="separator:a2933c3b653540c949de39c4ba6840854"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a398f5383d1c4969518de1dde009b3064"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classanalysis__tool__t.html#a398f5383d1c4969518de1dde009b3064">parallel_shard_exit</a> (void *shard_data)</td></tr>
<tr class="separator:a398f5383d1c4969518de1dde009b3064"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aaa4bdcf57a957b87a5a4f7b7c21435ca"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classanalysis__tool__t.html#aaa4bdcf57a957b87a5a4f7b7c21435ca">parallel_shard_memref</a> (void *shard_data, const <a class="el" href="memref_8h.html#adf34086351ea99fd7164ac601aa70a52">memref_t</a> &amp;memref)</td></tr>
<tr class="separator:aaa4bdcf57a957b87a5a4f7b7c21435ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb010251904f67d28e4a7f106d046ef1"><td class="memItemLeft" align="right" valign="top">virtual std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classanalysis__tool__t.html#afb010251904f67d28e4a7f106d046ef1">parallel_shard_error</a> (void *shard_data)</td></tr>
<tr class="separator:afb010251904f67d28e4a7f106d046ef1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The base class for a tool that analyzes a trace. A new tool should subclass this class.</p>
<p>Concurrent processing of traces is supported by logically splitting a trace into "shards" which are each processed sequentially. The default shard is a traced application thread, but the tool interface can support other divisions. For tools that support concurrent processing of shards and do not need to see a single thread-interleaved merged trace, the interface functions with the parallel_ prefix should be implemented, and <a class="el" href="classanalysis__tool__t.html#a74b15edc4429db7bdedb57f6047871ae">parallel_shard_supported()</a> should return true. <a class="el" href="classanalysis__tool__t.html#a2933c3b653540c949de39c4ba6840854">parallel_shard_init()</a> will be invoked for each shard prior to invoking <a class="el" href="classanalysis__tool__t.html#aaa4bdcf57a957b87a5a4f7b7c21435ca">parallel_shard_memref()</a> for any entry in that shard; the data structure returned from <a class="el" href="classanalysis__tool__t.html#a2933c3b653540c949de39c4ba6840854">parallel_shard_init()</a> will be passed to <a class="el" href="classanalysis__tool__t.html#aaa4bdcf57a957b87a5a4f7b7c21435ca">parallel_shard_memref()</a> for each trace entry for that shard. The concurrency model used guarantees that all entries from any one shard are processed by the same single worker thread, so no synchronization is needed inside the parallel_ functions. A single worker thread invokes <a class="el" href="classanalysis__tool__t.html#a511609e3d33afdff21ab66ba5f48c078">print_results()</a> as well.</p>
<p>For serial operation, <a class="el" href="classanalysis__tool__t.html#a2d835ef8d70add61b328bc2de27e8bed">process_memref()</a>, operates on a trace entry in a single, sorted, interleaved stream of trace entries. In the default mode of operation, the <a class="el" href="classanalyzer__t.html">analyzer_t</a> class iterates over the trace and calls the <a class="el" href="classanalysis__tool__t.html#a2d835ef8d70add61b328bc2de27e8bed">process_memref()</a> function of each tool. An alternative mode is supported which exposes the iterator and allows a separate control infrastructure to be built. This alternative mode does not support parallel operation at this time.</p>
<p>Both parallel and serial operation can be supported by a tool, typically by having <a class="el" href="classanalysis__tool__t.html#a2d835ef8d70add61b328bc2de27e8bed">process_memref()</a> create data on a newly seen traced thread and invoking <a class="el" href="classanalysis__tool__t.html#aaa4bdcf57a957b87a5a4f7b7c21435ca">parallel_shard_memref()</a> to do its work.</p>
<p>For both parallel and serial operation, the function <a class="el" href="classanalysis__tool__t.html#a511609e3d33afdff21ab66ba5f48c078">print_results()</a> should be overridden. It is called just once after processing all trace data and it should present the results of the analysis. For parallel operation, any desired aggregation across the whole trace should occur here as well, while shard-specific results can be presented in <a class="el" href="classanalysis__tool__t.html#a398f5383d1c4969518de1dde009b3064">parallel_shard_exit()</a>. </p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a893273210e42f5b14a9c1ff2e09ffa61"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a893273210e42f5b14a9c1ff2e09ffa61">&#9670;&nbsp;</a></span>analysis_tool_t()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">analysis_tool_t::analysis_tool_t </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Errors encountered during the constructor will set the success flag, which should be queried via operator!. On an error, <a class="el" href="classanalysis__tool__t.html#ac6e82d526535564e180e684a90354ac0">get_error_string()</a> provides a descriptive error message. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ac6e82d526535564e180e684a90354ac0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac6e82d526535564e180e684a90354ac0">&#9670;&nbsp;</a></span>get_error_string()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual std::string analysis_tool_t::get_error_string </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns a description of the last error. </p>

</div>
</div>
<a id="af926d04a522915a32a9186297564eec2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af926d04a522915a32a9186297564eec2">&#9670;&nbsp;</a></span>initialize()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual std::string analysis_tool_t::initialize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Destructor. Tools are encouraged to perform any initialization that might fail here rather than in the constructor. On an error, this returns an error string. On success, it returns "". </p>

</div>
</div>
<a id="a168e74445e03da89269dc38728f76554"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a168e74445e03da89269dc38728f76554">&#9670;&nbsp;</a></span>operator!()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool analysis_tool_t::operator! </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns whether the tool was created successfully. </p>

</div>
</div>
<a id="afb010251904f67d28e4a7f106d046ef1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afb010251904f67d28e4a7f106d046ef1">&#9670;&nbsp;</a></span>parallel_shard_error()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual std::string analysis_tool_t::parallel_shard_error </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>shard_data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns a description of the last error for this shard. </p>

</div>
</div>
<a id="a398f5383d1c4969518de1dde009b3064"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a398f5383d1c4969518de1dde009b3064">&#9670;&nbsp;</a></span>parallel_shard_exit()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool analysis_tool_t::parallel_shard_exit </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>shard_data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Invoked once when all trace entries for a shard have been processed. <code>shard_data</code> is the value returned by <a class="el" href="classanalysis__tool__t.html#a2933c3b653540c949de39c4ba6840854">parallel_shard_init()</a> for this shard. This allows a tool to clean up its thread data, or to report thread analysis results. Most tools, however, prefer to aggregate data or at least sort data, and perform nothing here, doing all cleanup in <a class="el" href="classanalysis__tool__t.html#a511609e3d33afdff21ab66ba5f48c078">print_results()</a> by storing the thread data into a table. Return whether exiting was successful. On failure, <a class="el" href="classanalysis__tool__t.html#afb010251904f67d28e4a7f106d046ef1">parallel_shard_error()</a> returns a descriptive message. </p>

</div>
</div>
<a id="a2933c3b653540c949de39c4ba6840854"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2933c3b653540c949de39c4ba6840854">&#9670;&nbsp;</a></span>parallel_shard_init()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void* analysis_tool_t::parallel_shard_init </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>shard_index</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>worker_data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Invoked once for each trace shard prior to calling <a class="el" href="classanalysis__tool__t.html#aaa4bdcf57a957b87a5a4f7b7c21435ca">parallel_shard_memref()</a> for that shard, this allows a tool to create data local to a shard. The <code>shard_index</code> is a unique identifier allowing shard data to be stored into a global table if desired (typically for aggregation use in <a class="el" href="classanalysis__tool__t.html#a511609e3d33afdff21ab66ba5f48c078">print_results()</a>). The <code>worker_data</code> is the return value of <a class="el" href="classanalysis__tool__t.html#abed057bdb0e3fd2139b7b686719ea94c">parallel_worker_init()</a> for the worker thread who will exclusively operate on this shard. The return value here will be passed to each invocation of <a class="el" href="classanalysis__tool__t.html#aaa4bdcf57a957b87a5a4f7b7c21435ca">parallel_shard_memref()</a> for that same shard. </p>

</div>
</div>
<a id="aaa4bdcf57a957b87a5a4f7b7c21435ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aaa4bdcf57a957b87a5a4f7b7c21435ca">&#9670;&nbsp;</a></span>parallel_shard_memref()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool analysis_tool_t::parallel_shard_memref </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>shard_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="memref_8h.html#adf34086351ea99fd7164ac601aa70a52">memref_t</a> &amp;&#160;</td>
          <td class="paramname"><em>memref</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The heart of an analysis tool, this routine operates on a single trace entry and takes whatever actions the tool needs to perform its analysis. The <code>shard_data</code> parameter is the value returned by <a class="el" href="classanalysis__tool__t.html#a2933c3b653540c949de39c4ba6840854">parallel_shard_init()</a> for this shard. Since each shard is operated upon in its entirety by the same worker thread, no synchronization is needed. The return value indicates whether this function was successful. On failure, <a class="el" href="classanalysis__tool__t.html#afb010251904f67d28e4a7f106d046ef1">parallel_shard_error()</a> returns a descriptive message. </p>

</div>
</div>
<a id="a74b15edc4429db7bdedb57f6047871ae"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a74b15edc4429db7bdedb57f6047871ae">&#9670;&nbsp;</a></span>parallel_shard_supported()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool analysis_tool_t::parallel_shard_supported </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns whether this tool supports analyzing trace shards concurrently, or whether it needs to see a single thread-interleaved stream of traced events. </p>

</div>
</div>
<a id="a66101e8025e47d91c43db80c875c1588"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a66101e8025e47d91c43db80c875c1588">&#9670;&nbsp;</a></span>parallel_worker_exit()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual std::string analysis_tool_t::parallel_worker_exit </td>
          <td>(</td>
          <td class="paramtype">void *&#160;</td>
          <td class="paramname"><em>worker_data</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Invoked once when a worker thread is finished processing all shard data. The <code>worker_data</code> is the return value of <a class="el" href="classanalysis__tool__t.html#abed057bdb0e3fd2139b7b686719ea94c">parallel_worker_init()</a>. A non-empty string indicates an error while an empty string indicates success. </p>

</div>
</div>
<a id="abed057bdb0e3fd2139b7b686719ea94c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abed057bdb0e3fd2139b7b686719ea94c">&#9670;&nbsp;</a></span>parallel_worker_init()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void* analysis_tool_t::parallel_worker_init </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>worker_index</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Invoked once for each worker thread prior to calling any shard routine from that thread. This allows a tool to create data local to a worker, such as a cache of data global to the trace that crosses shards. This data does not need any synchronization as it will only be accessed by this worker thread. The <code>worker_index</code> is a unique identifier for this worker. The return value here will be passed to the invocation of <a class="el" href="classanalysis__tool__t.html#a2933c3b653540c949de39c4ba6840854">parallel_shard_init()</a> for each shard upon which this worker operates. </p>

</div>
</div>
<a id="a511609e3d33afdff21ab66ba5f48c078"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a511609e3d33afdff21ab66ba5f48c078">&#9670;&nbsp;</a></span>print_results()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool analysis_tool_t::print_results </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>This routine reports the results of the trace analysis. It should leave the i/o state in a default format (std::dec) to support multiple tools. The return value indicates whether it was successful. On failure, <a class="el" href="classanalysis__tool__t.html#ac6e82d526535564e180e684a90354ac0">get_error_string()</a> returns a descriptive message. </p>

</div>
</div>
<a id="a2d835ef8d70add61b328bc2de27e8bed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d835ef8d70add61b328bc2de27e8bed">&#9670;&nbsp;</a></span>process_memref()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool analysis_tool_t::process_memref </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="memref_8h.html#adf34086351ea99fd7164ac601aa70a52">memref_t</a> &amp;&#160;</td>
          <td class="paramname"><em>memref</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">pure virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The heart of an analysis tool, this routine operates on a single trace entry and takes whatever actions the tool needs to perform its analysis. If it prints, it should leave the i/o state in a default format (std::dec) to support multiple tools. The return value indicates whether it was successful. On failure, <a class="el" href="classanalysis__tool__t.html#ac6e82d526535564e180e684a90354ac0">get_error_string()</a> returns a descriptive message. </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>drmemtrace/<a class="el" href="analysis__tool_8h.html">analysis_tool.h</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.16-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classanalysis__tool__t.html">analysis_tool_t</a></li>
    <li class="footer" style="float:none;text-align:center"><img border=0 src="favicon.png"> &nbsp;  DynamoRIO API version 8.0.0 --- Fri May 22 2020 13:36:08 &nbsp; <img border=0 src="favicon.png">
</small></address>
<!--END !GENERATE_TREEVIEW-->
</body>
</html>
